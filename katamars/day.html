<!DOCTYPE html>
<html>
 <title id="demo">16-بشنس-1739,75,8,9,16,1739</title>
<body onload="myFunction()">
<input type="date" id="myDate" value="">
<button onclick="myFunction()">Convert</button>
<!--<p id="demo"></p>-->
<script>
var queryString = window.location.search;
var urlParams = new URLSearchParams(queryString);
var day = urlParams.get('day');
var month = urlParams.get('month');
var year = urlParams.get('year');
var full = year + "-" + month + "-" + day ;
var fulll = new Date(year + "," + month + "," + day) ;
document.getElementById("myDate").value = full;
function myFunction() {
  var gordianDate = new Date(document.getElementById("myDate").value);
var copticDate = new Intl.DateTimeFormat('en',{day: 'numeric', year: 'numeric', month: 'numeric' ,  calendar:'coptic'}).format(gordianDate);
var copticDatee = new Intl.DateTimeFormat('en',{day: 'numeric', year: 'numeric', month: 'numeric' ,  calendar:'coptic'});
var copticyear = new Intl.DateTimeFormat('en',{year: 'numeric' , calendar:'coptic'}).format(gordianDate);
const parts = copticDatee.formatToParts(fulll);
const partValues = parts.map(p => p.value);
var cday = partValues[2];
var cmonth = partValues[0];
var cyear = partValues[4];
var display = copticDate.replace(/\//g, "-");
//let t = [newStr];
//var copticDate = 2024;
 let kk = cyear/5;
   //const find_year = ['1739', '1741', '1777'];




 
 var listt = kk.toString().split("."); 
var ss = listt[1]; 
if (ss == undefined){
  var ss = "0";
}
 
let k = cyear/4; //copticyear.replace(" ERA1", "")/5;

var list = k.toString().split("."); 
var s = list[1]; 
if (s == undefined){
  var s = "0";
}
//Number.isInteger(copticDate/5);
var str = display.replace(" ERA1", "");
if( cmonth == 1 ){
 var cmonthtext = "توت";
}
if( cmonth == 2 ){
 var cmonthtext = "بابة";
}
 if( cmonth == 3 ){
 var cmonthtext = "هاتور";
}
 if( cmonth == 4 ){
 var cmonthtext = "كيهك";
}
 if( cmonth == 5 ){
 var cmonthtext = "طوبة";
}
 if( cmonth == 6 ){
 var cmonthtext = "أمشير";
}
 if( cmonth == 7 ){
 var cmonthtext = "برمهات";
}
 if( cmonth == 8 ){
 var cmonthtext = "برمودة";
}
 if( cmonth == 9 ){
 var cmonthtext = "بشنس";
}
 if( cmonth == 10 ){
 var cmonthtext = "بؤونة";
}
 if( cmonth == 11 ){
 var cmonthtext = "أبيب";
}
 if( cmonth == 12 ){
 var cmonthtext = "مسرى";
}
 if( cmonth == 13 ){
 var cmonthtext = "نسيء";
}

let kt = "";
for (let i = 1739; i <= 1741; i++) {
  //text += "<br>The number is " + i;
 kt += i + ", ";
}
 var find_year= kt;

  const is_found = find_year.includes(cyear);

  var find = is_found; // true
if ( find != true){
var cyear = "1739";

document.getElementById("demo").innerHTML = cday + "-" + cmonthtext + "-" + cyear + "," + s + "," + ss + "," + cmonth + "," + cday+ "," + cyear;//str[5] ;

}else{


document.getElementById("demo").innerHTML = cday + "-" + cmonthtext + "-" + cyear + "," + s + "," + ss + "," + cmonth + "," + cday + "," + cyear;//str[5] ;

}
}
</script>
</body>
</html>
